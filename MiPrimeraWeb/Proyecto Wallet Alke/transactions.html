<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Movimientos | Alke Wallet</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>

<div class="container mt-4">
  <h2>Historial de Movimientos</h2>
  <ul id="transactionsList" class="list-group mt-3">
    <!-- Las transacciones se cargarán aquí -->
  </ul>

  <button class="btn btn-danger mt-3" id="clearBtn">Limpiar historial</button>
  <a href="menu.html" class="btn btn-secondary mt-3 ms-2">Volver al Menú</a>
</div>

<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
<script>
// Cargar transacciones desde localStorage
function loadTransactions() {
    const transactions = JSON.parse(localStorage.getItem("transactions") || "[]");
    const list = $("#transactionsList");
    list.empty();

    if (transactions.length === 0) {
        list.append('<li class="list-group-item text-muted">No hay movimientos registrados</li>');
        return;
    }

    transactions.forEach((t, index) => {
        const item = `<li class="list-group-item">
                        ${index + 1}. Enviado $${t.cantidad.toFixed(2)} a ${t.contacto} el ${t.fecha} </li>`;
        list.append(item);
    });
}

// Limpiar historial
$("#clearBtn").click(function() {
    if (confirm("¿Quieres borrar todo el historial?")) {
        localStorage.removeItem("transactions");
        loadTransactions();
    }
});

// Inicializar al cargar la página
$(document).ready(function() {
    loadTransactions();
});
</script>
<script hr>    </script>
</body>
</html>
